# Report 모듈

## 목적

**백테스트 결과를 시각적으로 표현**하여 이해하기 쉬운 HTML 리포트를 생성합니다.

숫자만으로는 전달하기 어려운 **패턴과 추세**를 차트로 보여줍니다.

---

## 핵심 기능

### 1. 종합 백테스트 리포트

단일 전략의 성과를 한눈에 파악할 수 있는 리포트:

| 섹션 | 내용 |
|------|------|
| **성과 요약** | 주요 지표 테이블 |
| **자산 곡선** | 누적 수익률 차트 |
| **낙폭 차트** | Drawdown 시각화 |
| **월별 수익률** | 히트맵 |
| **알파 검증** | 통계적 유의성 |
| **거래 내역** | 최근 거래 테이블 |

### 2. 전략 비교 리포트

여러 전략을 나란히 비교:

- 누적 수익률 중첩 차트
- 지표별 순위 테이블
- 상관관계 분석

### 3. Walk-Forward 리포트

IS/OOS 성과 비교:

- 기간별 샤프 비교 막대 차트
- OOS 누적 수익률

---

## 차트 설명

### 자산 곡선 (Equity Curve)

```
     ^
수익률 │      ╱╲
     │    ╱  ╲  ╱╲
     │  ╱      ╲╱  ╲
     │╱              ╲
     └─────────────────→ 시간
```

- **상승 추세**: 전략이 돈을 벌고 있음
- **하락 추세**: 전략이 돈을 잃고 있음
- **변동성**: 곡선의 울퉁불퉁함 (작을수록 안정)

### 낙폭 차트 (Drawdown)

```
  0% ├────────────────────
     │    ╲      ╲
-10% │     ╲      ╲
     │      ╲      ╲
-20% │       ╲      ╲
     │        ╲
-30% └─────────────────────
```

- **빨간 영역이 깊을수록**: 손실이 크다
- **빨간 영역이 오래 지속될수록**: 회복이 느리다

### 월별 수익률 히트맵

```
        1월  2월  3월  4월 ...
2021   [+3] [-2] [+5] [+1]
2022   [+1] [+4] [-3] [+2]
2023   [-1] [+2] [+3] [+4]
```

- **녹색**: 양수 수익
- **빨간색**: 음수 수익
- **패턴 확인**: 특정 월에 집중되는지?

---

## 리포트 출력

### 형식

- **HTML**: 인터랙티브 차트 (마우스 오버 정보)
- 브라우저에서 바로 열어서 확인 가능

### 출력 위치

```
reports/
└── {전략명}.html
```

---

## 리포트 활용

### 1. 팀 공유

- HTML 파일을 팀원에게 전달
- 발표 자료로 활용

### 2. 의사결정

- 여러 전략 비교 후 최종 선택
- 파라미터 조정 효과 확인

### 3. 문서화

- 프로젝트 산출물로 보관
- 향후 개선 기준점

---

## 입출력 요약

| 입력 | 출력 |
|------|------|
| BacktestResult | HTML 파일 경로 |
| 여러 BacktestResult | 비교 리포트 HTML |

---

## 관련 모듈

- **이전 단계**: [05_alpha_validation.md](05_alpha_validation.md) - 알파 검증
- **전체 흐름**: DataLoader → Factor → Engine → Metrics → Validation → **Report**
