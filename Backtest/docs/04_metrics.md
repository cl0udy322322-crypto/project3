# Metrics 모듈

## 목적

**백테스트 결과를 정량적으로 평가**하는 성과 지표를 계산합니다.

"수익률이 좋다"가 아닌 **"얼마나, 왜 좋은가"**를 숫자로 설명합니다.

---

## 핵심 지표 그룹

### 1. 수익률 지표 (Return Metrics)

| 지표 | 설명 | 좋은 값 |
|------|------|---------|
| **Total Return** | 총 누적 수익률 | 높을수록 좋음 |
| **CAGR** | 연환산 복리 수익률 | 시장 대비 초과 |
| **Win Rate** | 승률 (양수 수익 비율) | 50% 이상 |
| **Profit Factor** | 총이익 / 총손실 | 1.5 이상 |

### 2. 리스크 지표 (Risk Metrics)

| 지표 | 설명 | 좋은 값 |
|------|------|---------|
| **Volatility** | 연환산 변동성 | 낮을수록 안정 |
| **MDD** | 최대 낙폭 | -20% 이내 |
| **VaR 95%** | 95% 신뢰구간 최대 손실 | 작을수록 좋음 |
| **CVaR** | 조건부 VaR (평균 손실) | 작을수록 좋음 |

### 3. 위험조정 성과 (Risk-Adjusted)

| 지표 | 공식 | 해석 |
|------|------|------|
| **Sharpe Ratio** | (수익 - 무위험) / 변동성 | 1 이상이면 양호 |
| **Sortino Ratio** | (수익 - 무위험) / 하방변동성 | 하락만 고려 |
| **Calmar Ratio** | CAGR / MDD | 낙폭 대비 수익 |

### 4. 벤치마크 대비 (Benchmark Metrics)

| 지표 | 설명 | 목표 |
|------|------|------|
| **Alpha** | 시장 대비 초과 수익 | 양수 |
| **Beta** | 시장 민감도 | 1 근처 |
| **Information Ratio** | 초과수익 / 추적오차 | 0.5 이상 |
| **Tracking Error** | 벤치마크와의 괴리 | 낮을수록 추종 |

---

## 지표 해석 가이드

### Sharpe Ratio 해석

| 값 | 평가 |
|----|------|
| < 0 | 무위험 수익률보다 낮음 (나쁨) |
| 0 ~ 0.5 | 부족 |
| 0.5 ~ 1.0 | 보통 |
| 1.0 ~ 2.0 | 양호 |
| > 2.0 | 우수 (과적합 의심) |

### MDD 해석

| 값 | 의미 |
|----|------|
| -10% | 보수적 전략 |
| -20% | 일반적 수준 |
| -30% | 공격적 전략 |
| -50% | 매우 위험 |

---

## 왜 여러 지표가 필요한가?

**단일 지표의 함정**:
- 높은 수익률 ← MDD가 -80%일 수도
- 낮은 변동성 ← 수익률도 낮을 수도
- 높은 Sharpe ← 특정 기간에만 좋았을 수도

**해결**: 여러 관점에서 종합 평가

---

## 입출력 요약

| 입력 | 출력 |
|------|------|
| 일별 수익률 Series | PerformanceReport |
| 수익률 + 벤치마크 | PerformanceReport (Alpha/Beta 포함) |

---

## 관련 모듈

- **이전 단계**: [03_backtest_engine.md](03_backtest_engine.md) - 백테스트 실행
- **다음 단계**: [05_alpha_validation.md](05_alpha_validation.md) - 알파 유의성 검증
